<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chat</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous" />
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon-16x16.png" />
    <style>
      html,
      body {
        height: 100%; /* Asegurar que html y body ocupen el 100% */
        margin: 0; /* Eliminar márgenes */
        padding: 0; /* Eliminar padding */
        overflow: hidden; /*Evitar que el body tenga scroll*/
      }
      .list-container {
        /* Contenedor que ocupará el 100% de la vista */
        overflow-y: auto; /* Para que sea desplazable si el contenido es mayor */
      }
    </style>
  </head>

  <body class="d-flex flex-column h-100">
    <nav class="navbar navbar-expand-lg bg-body-secondary">
      <div class="container-fluid">
        <button class="navbar-toggler" type="button">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="http://localhost:8000/users">Users</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="http://localhost:8000/groups">Groups</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="http://localhost:8000/actions">Actions</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="http://localhost:8000/chat">Chat</a>
            </li>
            <li class="nav-item d-flex align-items-center">
              <button type="button" class="btn p-2 fs-6 border-0" id="logout">Salir</button>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div id="start-chat-container">
      <div class="d-flex align-items-center justify-content-center" style="height: 94vh">
        <button class="btn btn-secondary w-25" id="start-chat">Ingresar al chat</button>
      </div>
    </div>

    <div id="chat-container" hidden>
      <div class="d-flex" style="height: 94vh">
        <div class="bg-body-secondary p-2 border" style="overflow: auto; width: 10%">
          <ul class="list-group" id="users-list"></ul>
        </div>
        <div class="d-flex flex-column w-100 justify-content-between bg-body-tertiary mh-25">
          <div class="list-group gap-2 p-3" style="overflow: auto; height: 100%" id="messages"></div>
          <form class="bg-body-secondary w-100 p-3 border">
            <div class="d-flex flex-row justify-content-between me-5 gap-5">
              <input
                type="text"
                class="form-control text-secondary d-flex"
                id="text-input"
                placeholder="Mensaje"
                autofocus />
              <button type="button" class="btn btn-secondary" id="submit-button">Enviar</button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <script src="chat.js"></script>
  </body>
</html>
